(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{"4mXO":function(e,t,n){e.exports=n("7TPF")},"7TPF":function(e,t,n){n("AUvm"),e.exports=n("WEpk").Object.getOwnPropertySymbols},"7ljp":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("q1tI"),o=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=o.a.createContext({}),u=function(e){var t=o.a.useContext(s),n=t;return e&&(n="function"===typeof e?e(t):l({},t,{},e)),n},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=u(n),d=a,b=p["".concat(i,".").concat(d)]||p[d]||m[d]||r;return n?o.a.createElement(b,l({ref:t},s,{components:n})):o.a.createElement(b,l({ref:t},s))}));function b(e,t){var n=arguments,a=t&&t.mdxType;if("string"===typeof e||a){var r=n.length,i=new Array(r);i[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[p]="string"===typeof e?e:a,i[1]=l;for(var s=2;s<r;s++)i[s]=n[s];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},DNGZ:function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return s})),n.d(t,"default",(function(){return m}));var a=n("kOwS"),o=n("qNsG"),r=n("q1tI"),i=n.n(r),l=n("7ljp"),c=n("M20V"),s=(i.a.createElement,{title:"Start Mining",desc:"Want to start mining on Arweave? You've come to the right place! Get set up with this quick and easy guide, and join our awesome network of ever-growing miners."}),u={meta:s},p=Object(c.a)();function m(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(l.a)(p,Object(a.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(l.a)("h1",null,"Mining Guide."),Object(l.a)("br",null),Object(l.a)("p",null,"Want to start mining on Arweave? You've come to the right place! Get set up with this quick and easy guide, and join our awesome network of ever-growing miners."),Object(l.a)("blockquote",null,Object(l.a)("p",{parentName:"blockquote"},Object(l.a)("strong",{parentName:"p"},"For any questions and support queries regarding mining on Arweave, we strongly recommend that you join our")," ",Object(l.a)("a",{href:"https://discord.gg/DjAFMJc",target:"_blank"},Object(l.a)("strong",{parentName:"p"},"Discord server"))," ",Object(l.a)("strong",{parentName:"p"},"as this is the hub of our mining and developer communities. Here you will find plenty of community members and Arweave team members available to help you out")," \ud83e\udd16 ")),Object(l.a)("h2",null,Object(l.a)("strong",{parentName:"h2"},"Install the Miner")),Object(l.a)("p",null,"Download the ",Object(l.a)("inlineCode",{parentName:"p"},".tar.gz")," archive for your OS from the ",Object(l.a)("a",{href:"https://github.com/ArweaveTeam/arweave/releases",target:"_blank"},"releases page"),"."),Object(l.a)("p",null,"Extract the contents of the archive. It's recommended to unpack it inside a dedicated directory. You can always move this directory around, but the miner may not work if you move only some of the files. The weave data would, by default, be stored in this directory as well, but it can be overridden using the ",Object(l.a)("inlineCode",{parentName:"p"},"data_dir")," command-line argument."),Object(l.a)("p",null,"If your OS/platform architecture is not in the list, check the source code repository ",Object(l.a)("a",{href:"https://github.com/ArweaveTeam/arweave#building-from-source",target:"_blank"},"README")," for how to build the miner from source."),Object(l.a)("blockquote",null,Object(l.a)("p",{parentName:"blockquote"},"It is also possible to set-up an Arweave mining environment on Windows using the \u2018Windows Subsystem for Linux\u2019 or a virtual machine environment.")),Object(l.a)("h2",null,Object(l.a)("strong",{parentName:"h2"},"Preparation: File Descriptors Limit ",Object(l.a)("a",{id:"preparation-file-descriptors-limit"}))),Object(l.a)("p",null,"The number of available file descriptors affects the rate at which your node can process data. As the default limit assigned to user processes on most operating systems is usually low, we recommend increasing it."),Object(l.a)("p",null,"You can check the current limit by executing ",Object(l.a)("inlineCode",{parentName:"p"},"ulimit -n"),"."),Object(l.a)("p",null,"On Linux, to set a bigger global limit, open ",Object(l.a)("inlineCode",{parentName:"p"},"/etc/sysctl.conf")," and add the following line:"),Object(l.a)("pre",null,Object(l.a)("code",Object(a.a)({parentName:"pre"},{className:"language-text"}),"fs.file-max=10000\n")),Object(l.a)("p",null,"Execute ",Object(l.a)("inlineCode",{parentName:"p"},"sysctl -p")," to make the changes take effect."),Object(l.a)("p",null,"You may also need to set a proper limit for the particular user. To set a user-level limit, open ",Object(l.a)("inlineCode",{parentName:"p"},"/etc/security/limit.conf")," and add the following line:"),Object(l.a)("pre",null,Object(l.a)("code",Object(a.a)({parentName:"pre"},{className:"language-text"}),"<your OS user>         soft    nofile  10000\n")),Object(l.a)("p",null,"Open a new terminal session. To make sure the changes took effect, and the limit was increased, type ",Object(l.a)("inlineCode",{parentName:"p"},"ulimit -n"),". You can also change the limit for the current session via ",Object(l.a)("inlineCode",{parentName:"p"},"ulimit -n 10000")),Object(l.a)("h2",null,Object(l.a)("strong",{parentName:"h2"},"Running the Miner")),Object(l.a)("p",null,"Now you\u2019re ready to start the mining process by using the following command from the Arweave directory: "),Object(l.a)("pre",null,Object(l.a)("code",Object(a.a)({parentName:"pre"},{className:"language-text"}),"./bin/start mine mining_addr YOUR-MINING-ADDRESS peer 188.166.200.45 peer 188.166.192.169 peer 163.47.11.64 peer 159.203.158.108 peer 139.59.51.59 peer 138.197.232.192\n")),Object(l.a)("blockquote",null,Object(l.a)("p",{parentName:"blockquote"},"Please replace ",Object(l.a)("strong",{parentName:"p"},"YOUR-MINING-ADDRESS")," with the address of the wallet you would like to credit when you find a block!")),Object(l.a)("p",null,"If you would like to see a log of your miner\u2019s activity, you can run ",Object(l.a)("strong",{parentName:"p"},"\u2018./bin/logs -f\u2019")," in the Arweave directory in a different terminal."),Object(l.a)("h2",null,Object(l.a)("strong",{parentName:"h2"},"Tuning the Miner")),Object(l.a)("p",null,"To get an additional performance boost, consider configuring huge memory pages in your OS.  "),Object(l.a)("p",null,"On Ubuntu, to see the current values, execute:",Object(l.a)("inlineCode",{parentName:"p"},"cat /proc/meminfo | grep HugePages"),". To set a value, run ",Object(l.a)("inlineCode",{parentName:"p"},"sudo sysctl -w vm.nr_hugepages=2000"),'. Here, "2000" corresponds to two thousand pages of 2 MiB each. Do not set a value bigger than the amount of available memory ',"(",'the "total" column from ',Object(l.a)("inlineCode",{parentName:"p"},'"free -m"'),")"," minus 6 GiB."),Object(l.a)("p",null,"You can benchmark your machine's performance with different settings by running ",Object(l.a)("inlineCode",{parentName:"p"},"./bin/start benchmark randomx enable randomx_large_pages"),". Note that you have to stop the miner before running the benchmark."),Object(l.a)("p",null,"It is recommended to reboot the machine after configuring huge pages and before running the miner, especially if the machine had a significant uptime before to the change. To make the configuration survive reboots, create ",Object(l.a)("inlineCode",{parentName:"p"},"/etc/sysctl.d/local.conf")," and put ",Object(l.a)("inlineCode",{parentName:"p"},"vm.nr_hugepages=[YOUR NUMBER]")," there."),Object(l.a)("h2",null,Object(l.a)("strong",{parentName:"h2"},"Troubleshooting")),Object(l.a)("h3",null,"\u2022 Make sure your node is accessible on the Internet"),Object(l.a)("p",null,"An important part of the mining process is discovering blocks mined by other miners. Your node needs to be accessible from anywhere on the Internet so that your peers can connect with you and share their blocks."),Object(l.a)("p",null,"To check if your node is publicly accessible, browse to ",Object(l.a)("inlineCode",{parentName:"p"},"http://[Your Internet IP]:1984"),". You can ",Object(l.a)("a",{href:"https://ifconfig.me/",target:"_blank"},"obtain your public IP here"),", or by running ",Object(l.a)("inlineCode",{parentName:"p"},"curl ifconfig.me/ip"),'. If you specified a different port when starting the miner, replace "1984" anywhere in these instructions with your port. If you can not access the node, you need to set up TCP port forwarding for incoming HTTP requests to your Internet IP address on port 1984 to the selected port on your mining machine. For more details on how to set up port forwarding, consult your ISP or cloud provider.'),Object(l.a)("p",null,"Missing port forwarding is a common reason for the warning which begins with:  "),Object(l.a)("p",null,Object(l.a)("inlineCode",{parentName:"p"},"WARNING: No foreign blocks received from the network or found by trusted peers.")),Object(l.a)("p",null,'Alternatively, you can run the miner in the polling mode. In this mode, your node does not have to be publicly accessible. It would check with other peers for updates at regular intervals. To run in the polling mode, specify "polling" in the command line:'),Object(l.a)("pre",null,Object(l.a)("code",Object(a.a)({parentName:"pre"},{className:"language-text"}),"./bin/start polling mine mining_addr YOUR-MINING-ADDRESS peer 188.166.200.45 peer 188.166.192.169 peer 163.47.11.64 peer 159.203.158.108 peer 139.59.51.59 peer 138.197.232.192\n")),Object(l.a)("p",null,"Note that the polling mode is significantly less efficient and is not recommended.  "),Object(l.a)("p",null,"Also note that if your node does not receive any blocks for a minute, even when the polling mode is not enabled, the node will ask its trusted peers for new blocks. This is a safety measure to avoid stalling."),Object(l.a)("h3",null,"\u2022 Wait until the blocks are downloaded"),Object(l.a)("p",null,"The Arweave miner does not mine without data. For every new block in order to mine it, a random block from the past is required. It takes a few days to download all the blocks from the peers so do not expect the mining to be very intensive after the first launch. For example, if you have 10% of the total amount of blocks, you have a 10% chance for being able to participate in mining the next block."),Object(l.a)("p",null,"The following log indicates the miner does not have a block required to mine the current block ","(","the network mines a new block approximately every two minutes",")",". You do not have to take any action."),Object(l.a)("p",null,Object(l.a)("inlineCode",{parentName:"p"},"=INFO REPORT==== 13-Mar-2019::11:02:20 === could_not_start_mining stored_recall_block_for_foreign_verification")),Object(l.a)("h3",null,"\u2022 Bootstrapping a second miner faster"),Object(l.a)("p",null,"If you want to bootstrap another miner on a different machine, you can copy the downloaded data over from the first miner to bring it up to speed faster. Please follow these steps:"),Object(l.a)("ol",null,Object(l.a)("li",{parentName:"ol"},"Stop the first Arweave miner, and ensure the second miner is also not running."),Object(l.a)("li",{parentName:"ol"},"Copy the following folders to the new machine: ",Object(l.a)("inlineCode",{parentName:"li"},"blocks"),", ",Object(l.a)("inlineCode",{parentName:"li"},"txs"),", ",Object(l.a)("inlineCode",{parentName:"li"},"wallet_lists"),", ",Object(l.a)("inlineCode",{parentName:"li"},"data"),"."),Object(l.a)("li",{parentName:"ol"},"Start both miners.")),Object(l.a)("h3",null,"\u2022 Run a miner on Windows"),Object(l.a)("p",null,"We do not recommend using Windows for mining because according to our experience it is less efficient and reliable. Nevertheless, mining on Windows is possible."),Object(l.a)("p",null,"You can run an Arweave miner inside Windows Subsystem for Linux ","(","WSL",")",". Note that the default TCP configuration WSL relies on is more restrictive than a typical Linux configuration. The WSL configuration offers about half as many TCP ports for making TCP connections and twice as long socket re-use timeout, what significantly reduces the number of simultaneous requests per second the miner can make to other nodes."),Object(l.a)("p",null,"As a result, you may see the following errors in the miner console:  "),Object(l.a)("p",null,Object(l.a)("inlineCode",{parentName:"p"},'=ERROR REPORT====...=== Socket connection error: exit badarg, [{gen_tcp,connect,4, [{file,"gen_tcp.erl"},{line,149}]}')),Object(l.a)("p",null,"Windows Event Log is expected to have the following warning:  "),Object(l.a)("p",null,Object(l.a)("inlineCode",{parentName:"p"},"TCP/IP failed to establish an outgoing connection because the selected local endpoint was recently used to connect to the same remote endpoint. This error typically occurs when outgoing connections are opened and closed at a high rate, causing all available local ports to be used and forcing TCP/IP to reuse a local port for an outgoing connection. To minimize the risk of data corruption, the TCP/IP standard requires a minimum time period to elapse between successive connections from a given local endpoint to a given remote endpoint.")),Object(l.a)("h2",null,Object(l.a)("strong",{parentName:"h2"},"Staying up to Date")),Object(l.a)("p",null,"\u25b8 Join our ",Object(l.a)("a",{href:"https://discord.gg/3UTNZky",target:"_blank"},"Discord")," server"),Object(l.a)("p",null,"\u25b8 Join our mining ",Object(l.a)("a",Object(a.a)({parentName:"p"},{href:"https://mailchi.mp/fa68b561fd82/arweavemining"}),"mailing list")," "),Object(l.a)("p",null,"Once you are successfully mining on the Arweave, you will need to stay up to date with new releases. "),Object(l.a)("p",null,Object(l.a)("a",Object(a.a)({parentName:"p"},{href:"https://mailchi.mp/fa68b561fd82/arweavemining"}),"Join our mailing list")," to receive emails informing you that a new update has been released, along with the steps you need to take to stay up to speed. "),Object(l.a)("p",null,"Updates that require you to perform an action within a certain time period in order to stay in sync with the network will be labeled \u2018","[","ACTION REQUIRED","]","\u2019. "),Object(l.a)("p",null,"Keep an eye out for these messages, and if possible make sure that you add team@arweave.org to your email provider\u2019s trusted senders list!"))}m.isMDXComponent=!0},M20V:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("q1tI"),o=n("zDLl"),r=a.createElement;function i(e){return function(e){var t=e.children,n=e.meta||{},a=n.title,i=n.desc;return r(o.a,{title:a||"",desc:i||""},r("div",{className:"md-content"},t))}}},MS9Y:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mine/start",function(){return n("DNGZ")}])},qNsG:function(e,t,n){"use strict";var a=n("4mXO"),o=n.n(a),r=n("pLtp"),i=n.n(r);function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,o={},r=i()(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(o.a){var l=o()(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}n.d(t,"a",(function(){return l}))}},[["MS9Y",1,2,0,32]]]);